<!DOCTYPE html><html dir="ltr" lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="icon" type="image/x-icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" href="/favicons/favicon-16.png" sizes="16x16"/><link rel="icon" type="image/png" href="/favicons/favicon-32.png" sizes="32x32"/><link rel="icon" type="image/png" href="/favicons/favicon-48.png" sizes="48x48"/><link rel="icon" type="image/png" href="/favicons/favicon-96.png" sizes="96x96"/><link rel="icon" type="image/png" href="/favicons/favicon-128.png" sizes="128x128"/><link rel="icon" type="image/png" href="/favicons/favicon-256.png" sizes="256x256"/><link rel="apple-touch-icon-precomposed" sizes="180x180" href="/favicons/apple-touch-icon.png"/><link rel="manifest" href="/manifest.json"/><meta name="application-name" content="pyjun01 개발 블로그"/><meta property="og:type" content="website"/><meta property="og:site_name" content="pyjun01 개발 블로그"/><meta property="og:locale" content="ko_KR"/><meta name="theme-color" content="#1a5b89"/><meta name="naver-site-verification" content="2a28f13354877854bb05feb3be7bf8f34ff88f05"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5121982141414734" crossorigin="anonymous"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-M9E84M22QJ"></script><script>window.dataLayer = window.dataLayer || []; 
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date()); gtag('config', 'G-M9E84M22QJ');</script><meta data-react-helmet="true" name="twitter:description" content="React의 Virtual DOM replacement인 Million.js의 코어 로직을 탐구하며 소개합니다."/><meta data-react-helmet="true" name="twitter:title" content="Million.js는 어떻게 React보다 최대 70% 빠를까?"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="description" content="React의 Virtual DOM replacement인 Million.js의 코어 로직을 탐구하며 소개합니다."/><meta data-react-helmet="true" property="og:description" content="React의 Virtual DOM replacement인 Million.js의 코어 로직을 탐구하며 소개합니다."/><meta data-react-helmet="true" property="og:url" content="https://pyjun01.github.io/v/million-js"/><meta data-react-helmet="true" property="og:image" content="https://pyjun01.github.io/million-js-preview.png"/><meta data-react-helmet="true" property="og:title" content="Million.js는 어떻게 React보다 최대 70% 빠를까?"/><meta name="generator" content="Gatsby 4.13.1"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><title data-react-helmet="true">Million.js는 어떻게 React보다 최대 70% 빠를까?</title><style data-styled="" data-styled-version="5.3.5">.kqoxWp{list-style:none;}/*!sc*/
.kqoxWp.kqoxWp.kqoxWp{margin-bottom:56px;padding:0;}/*!sc*/
data-styled.g1[id="TableOfContents__TableOfContentsWrapper-sc-7xl0bc-0"]{content:"kqoxWp,"}/*!sc*/
.hHofZn{margin-left:0px;}/*!sc*/
.dEOOZp{margin-left:20px;}/*!sc*/
data-styled.g2[id="TableOfContents__Item-sc-7xl0bc-1"]{content:"hHofZn,dEOOZp,"}/*!sc*/
*{box-sizing:border-box;}/*!sc*/
html{line-height:1.15;-webkit-text-size-adjust:100%;}/*!sc*/
body{margin:0;}/*!sc*/
p,span{font-size:inherit;}/*!sc*/
a{color:#1a5b89;-webkit-text-decoration-color:#1a5b89;text-decoration-color:#1a5b89;}/*!sc*/
html{font-size:16px;}/*!sc*/
@media (max-width:680px){html{font-size:12px;}}/*!sc*/
.content{font-size:1.125rem;line-height:1.6rem;word-break:break-word;}/*!sc*/
.content h1{font-size:2em;margin:0.67em 0;}/*!sc*/
.content hr{display:block;height:1px;border:0;border-top:1px solid #ccc;padding:0;}/*!sc*/
.content pre{font-family:monospace,monospace;font-size:1em;}/*!sc*/
.content a{background-color:transparent;}/*!sc*/
.content abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}/*!sc*/
.content b,.content strong{font-weight:bolder;}/*!sc*/
.content small{font-size:80%;}/*!sc*/
.content sub,.content sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}/*!sc*/
.content sub{bottom:-0.25em;}/*!sc*/
.content sup{top:-0.5em;}/*!sc*/
.content img{border-style:none;}/*!sc*/
.content button,.content input,.content optgroup,.content select,.content textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}/*!sc*/
.content button,.content input{overflow:visible;}/*!sc*/
.content button,.content select{text-transform:none;}/*!sc*/
.content button,.content [type="button"],.content [type="reset"],.content [type="submit"]{-webkit-appearance:button;}/*!sc*/
.content button::-moz-focus-inner,.content [type="button"]::-moz-focus-inner,.content [type="reset"]::-moz-focus-inner,.content [type="submit"]::-moz-focus-inner{border-style:none;padding:0;}/*!sc*/
.content fieldset{padding:0.35em 0.75em 0.625em;}/*!sc*/
.content legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}/*!sc*/
.content progress{vertical-align:baseline;}/*!sc*/
.content textarea{overflow:auto;}/*!sc*/
.content [type="checkbox"],.content [type="radio"]{box-sizing:border-box;padding:0;}/*!sc*/
.content [type="number"]::-webkit-inner-spin-button,.content [type="number"]::-webkit-outer-spin-button{height:auto;}/*!sc*/
.content [type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}/*!sc*/
.content [type="search"]::-webkit-search-decoration{-webkit-appearance:none;}/*!sc*/
.content::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}/*!sc*/
.content details{display:block;}/*!sc*/
.content summary{display:list-item;}/*!sc*/
.content [hidden]{display:none;}/*!sc*/
.content h1{margin-top:3rem;margin-bottom:1.5rem;line-height:1;}/*!sc*/
.content h2{margin-top:2.5rem;margin-bottom:1.5rem;line-height:1;}/*!sc*/
.content h3,.content h4,.content h5,.content h6{margin-top:2rem;margin-bottom:1rem;line-height:1;}/*!sc*/
.content ul,.content ol{margin:1em 0 0.75em;padding-left:25px;}/*!sc*/
.content ul > li + li,.content ol > li + li{margin-top:0.25rem;}/*!sc*/
.content code:not(.code-preview){padding:0.2rem 0.325rem;background:rgb(26,91,137,0.07);border-radius:0.325rem;font-family:Consolas,Monaco,'Andale Mono',monospace;font-size:80%;}/*!sc*/
.content blockquote{font-size:1rem;border-left:0.2rem solid #333;margin:1.5rem 0;padding:0.5rem 0 0.5rem 1rem;}/*!sc*/
@media (max-width:680px){.content blockquote{font-size:1.3rem;}}/*!sc*/
.content blockquote > p{margin:0;}/*!sc*/
.content [data-change="add"]{background-color:#395d3f;}/*!sc*/
data-styled.g4[id="sc-global-gQQfPP1"]{content:"sc-global-gQQfPP1,"}/*!sc*/
.dHRHmG{max-width:700px;margin:0 auto;}/*!sc*/
@media (min-width:2500px){.dHRHmG{max-width:900px;}}/*!sc*/
@media (max-width:800px){.dHRHmG{margin:0 48px;}}/*!sc*/
@media (max-width:680px){.dHRHmG{margin:0 24px;}}/*!sc*/
data-styled.g5[id="Inner-sc-14mb831-0"]{content:"dHRHmG,"}/*!sc*/
.dRaRhJ{padding:16px 0 24px;color:gray;}/*!sc*/
.dRaRhJ .Inner-sc-14mb831-0 > div{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
.dRaRhJ .Inner-sc-14mb831-0 > div h1,.dRaRhJ .Inner-sc-14mb831-0 > div a{margin:0;}/*!sc*/
.dRaRhJ .Inner-sc-14mb831-0 > div a{color:#333333;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.dRaRhJ .Inner-sc-14mb831-0 > div h1 > a{font-weight:700;font-size:18px;}/*!sc*/
.dRaRhJ .Inner-sc-14mb831-0 > div nav ul{all:unset;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:12px;}/*!sc*/
.dRaRhJ .Inner-sc-14mb831-0 > div nav ul li{all:unset;min-width:53px;font-size:1.125rem;text-align:center;}/*!sc*/
@media (max-width:680px){.dRaRhJ .Inner-sc-14mb831-0 > div nav ul li{font-size:1.5rem;}}/*!sc*/
.dRaRhJ .Inner-sc-14mb831-0 > div nav ul li.selected{font-weight:700;}/*!sc*/
@media (max-width:680px){.dRaRhJ{padding:16px 0;}}/*!sc*/
data-styled.g6[id="Header__Container-sc-j73lu9-0"]{content:"dRaRhJ,"}/*!sc*/
.ejksGi{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Open Sans,sans-serif;}/*!sc*/
.ejksGi main > h1:first-child{color:rebeccapurple;}/*!sc*/
data-styled.g7[id="layout__Container-sc-97nfry-0"]{content:"ejksGi,"}/*!sc*/
.gfDydt{overflow-x:scroll;border-radius:0.166667rem;box-shadow:rgb(20 20 20 / 27%) 1px 1px 20px;}/*!sc*/
.gfDydt > code{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;min-width:100%;padding:15px 15px 15px 10px;font-size:0.85rem;line-height:1.6;font-weight:300;white-space:pre;}/*!sc*/
@media (max-width:680px){.gfDydt > code{font-size:1.25rem;}}/*!sc*/
.gfDydt > code > div{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;min-width:100%;}/*!sc*/
data-styled.g10[id="CodeBlock__Pre-sc-x3gwst-0"]{content:"gfDydt,"}/*!sc*/
.fZWfAp{display:inline-block;min-width:30px;padding-right:1em;text-align:right;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.5;}/*!sc*/
data-styled.g12[id="CodeBlock__LineNo-sc-x3gwst-2"]{content:"fZWfAp,"}/*!sc*/
.dqIKNw{padding:32px 0;}/*!sc*/
.dqIKNw > h2{margin:0;font-size:3rem;line-height:3.75rem;-webkit-letter-spacing:-0.0625rem;-moz-letter-spacing:-0.0625rem;-ms-letter-spacing:-0.0625rem;letter-spacing:-0.0625rem;font-weight:100;font-family:Georgia,Times,serif;}/*!sc*/
.dqIKNw > .date{margin:32px 0 56px;text-align:right;}/*!sc*/
.dqIKNw img{max-width:100%;}/*!sc*/
.dqIKNw figure{margin:1.5rem 0;}/*!sc*/
.dqIKNw figure img{display:block;margin:0 auto;}/*!sc*/
.dqIKNw figure figcaption{font-size:0.875rem;color:#757575;text-align:center;}/*!sc*/
@media (max-width:680px){.dqIKNw > .date{font-size:1.3rem;}.dqIKNw > .content{font-size:1.5rem;line-height:2.25rem;}}/*!sc*/
data-styled.g21[id="mdxslug__Container-sc-zayes9-0"]{content:"dqIKNw,"}/*!sc*/
</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/webpack-runtime-85e9ac98eef5652dac2a.js"/><link as="script" rel="preload" href="/framework-7c52479153645a36d9c8.js"/><link as="script" rel="preload" href="/app-1616f93ccb81986aa35a.js"/><link as="fetch" rel="preload" href="/page-data/v/million-js/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2703881467.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3234013132.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout__Container-sc-97nfry-0 ejksGi"><title>Million.js는 어떻게 React보다 최대 70% 빠를까?</title><header class="Header__Container-sc-j73lu9-0 dRaRhJ"><div class="Inner-sc-14mb831-0 dHRHmG"><div><h1><a href="/">pyjun01</a></h1><nav><ul><li><a href="/">Home</a></li><li><a href="/about/">About</a></li></ul></nav></div></div></header><main><div class="Inner-sc-14mb831-0 dHRHmG"><div class="mdxslug__Container-sc-zayes9-0 dqIKNw"><h2>Million.js는 어떻게 React보다 최대 70% 빠를까?</h2><p class="date">May 29, 2023</p><div class="content"><ul class="TableOfContents__TableOfContentsWrapper-sc-7xl0bc-0 kqoxWp"><li class="TableOfContents__Item-sc-7xl0bc-1 hHofZn"><a href="#millionjs는-무엇인가">Million.js는 무엇인가</a></li><li class="TableOfContents__Item-sc-7xl0bc-1 hHofZn"><a href="#어떻게-성능-최적화를-이끌어냈을까">어떻게 성능 최적화를 이끌어냈을까?</a></li><li class="TableOfContents__Item-sc-7xl0bc-1 hHofZn"><a href="#어떻게-구현했을까">어떻게 구현했을까?</a></li><li class="TableOfContents__Item-sc-7xl0bc-1 dEOOZp"><a href="#block-virtual-dom">Block Virtual DOM</a></li><li class="TableOfContents__Item-sc-7xl0bc-1 dEOOZp"><a href="#compiler">Compiler</a></li><li class="TableOfContents__Item-sc-7xl0bc-1 dEOOZp"><a href="#react-hoc">React HOC</a></li><li class="TableOfContents__Item-sc-7xl0bc-1 hHofZn"><a href="#결론">결론</a></li><li class="TableOfContents__Item-sc-7xl0bc-1 hHofZn"><a href="#부록">부록</a></li></ul><blockquote><p>해당 글은 Million.js v2.3.2을 기준으로 작성되었습니다</p></blockquote><p><a href="https://twitter.com/aidenybai/status/1647005716350406656?ck_subscriber_id=887762731" target="_blank" class="MDX__A-sc-1k59ymc-0 eySHoc">Million.js 제작자의 트윗</a>을 우연히 보게 되었는데 React 환경에서 성능 최적화를 이끌어내는 방식이 흥미로워서 파헤쳐 보았다.</p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><h1 id="millionjs는-무엇인가" class="Title__H1-sc-160b2qc-0 eCBhXZ">Million.js는 무엇인가</h1><p>Million.js는 단순히 React Component를 HOC(<a href="https://ko.legacy.reactjs.org/docs/higher-order-components.html" target="_blank" class="MDX__A-sc-1k59ymc-0 eySHoc">Higher Order Component</a>)로 감싸는 것만으로도 렌더링 속도를 빠르게 만들어 주는 virtual DOM 라이브러리이다. 어떻게 개선하는지가 재밌는데 뒤에서 자세히 기술하겠지만 react reconciliation 대신 자체 제작한 virtual DOM을 사용해 조작하는 식으로 개선하였다.</p><blockquote><p>(Million.js Documentation &gt; Introduction)</p><p>Million is an extremely fast and lightweight (<code>&lt;4kb</code>) virtual DOM that makes <a href="https://reactjs.org/" target="_blank" class="MDX__A-sc-1k59ymc-0 eySHoc">React components</a> up to <strong><em><a href="https://krausest.github.io/js-framework-benchmark/current.html" target="_blank" class="MDX__A-sc-1k59ymc-0 eySHoc">70% faster</a></em></strong></p><blockquote><p>Oh man... Another /virtual dom|javascript/gi framework? I&#x27;m fine with React already, why do I need this?</p></blockquote><p>Million works with React. Million makes creating web apps just as easy (It&#x27;s just wrapping a <a href="https://reactjs.org/" target="_blank" class="MDX__A-sc-1k59ymc-0 eySHoc">React</a> component!), but with faster rendering and loading speeds. By using a fine-tuned, optimized virtual DOM, Million.js reduces the overhead of React.</p></blockquote><p>실제 렌더링 속도는 <a href="https://krausest.github.io/js-framework-benchmark/2023/table_chrome_112.0.5615.49.html" target="_blank" class="MDX__A-sc-1k59ymc-0 eySHoc">krausest/js-framework-benchmark</a> 벤치마크를 참조해보면 확연하게 차이가 나는 걸 확인할 수 있다.</p><figure><img src="/million-js/js-framework-benchmark.png" width="400"/></figure><h1 id="어떻게-성능-최적화를-이끌어냈을까" class="Title__H1-sc-160b2qc-0 eCBhXZ">어떻게 성능 최적화를 이끌어냈을까?</h1><p>리액트는 잘 알려진 것처럼 virtual DOM 데이터와 diff 알고리즘으로 reconciliation 과정을 거쳐 화면을 수정한다. 그리고 이 과정은 <code>n</code>개의 node가 있는 트리에 대해 <code>O(n)</code> 복잡도를 가지게 된다. (<a href="https://ko.legacy.reactjs.org/docs/reconciliation.html" target="_blank" class="MDX__A-sc-1k59ymc-0 eySHoc">React Reconciliation document</a>)</p><p>node가 많아질수록 diff 작업이 오래 걸리기 때문에 diff 과정에서 병목 현상이 발생하는 건 리액트 개발자라면 한 번쯤 격어봤을 것이다.</p><figure><img src="/million-js/reconciliation.png"/></figure><p><strong>Million.js</strong>는 reconciliation을 사용하지 않기 때문에 tree를 렌더마다 재생성하지도 않고 node에 대한 diff 알고리즘도 사용하지 않는다.</p><p>대신 보다 fine-grained reactivity framework(SolidJS, Qwik…)에 가깝게 필요한 부분만 update 하는데 이를 위해 정적 분석(Static Analysis)과 더티 체킹(Dirty Checking)을 사용한다.</p><ol><li>컴포넌트를 정적 분석해 JSX tree의 변경될 수 있는 부분(<b>dynamic part</b>), 즉 <code>{expression}</code>의 tree 내 위치와 데이터 및 관련 정보를 수집해 저장한다. (해당 데이터를 <b>&quot;Edit Map&quot;</b>이라 부른다)</li><li>컴포넌트가 update 되면 Edit Map을 통해 데이터를 이전과 비교(<b>Dirty Checking</b>)함으로써 변경된 부분만 DOM 업데이트를 진행한다.</li></ol><p>위 처리 과정은 JSX tree에 expression이 m개 존재할 때 <code>O(m)</code>의 복잡도를 가지며 <ins>node 개수에 영향을 받지 않고 update 처리를 할 수 있다.</ins></p><figure><img src="/million-js/millionjs.png"/></figure><h1 id="어떻게-구현했을까" class="Title__H1-sc-160b2qc-0 eCBhXZ">어떻게 구현했을까?</h1><p>접근법을 보면 어떻게 구현해서 React에 embed 했을지 궁금할 수밖에 없다. 내부 구현은 3가지 영역으로 나뉘어져 있다.</p><ol><li>Block Virtual DOM</li><li>Compiler</li><li>React HOC</li></ol><h2 id="block-virtual-dom" class="Title__H2-sc-160b2qc-1 cZkGkT">Block Virtual DOM</h2><p>Million.js가 사용하는 virtual DOM 시스템은 Block Virtual DOM이라 부르는데, 기존 virtual DOM들과는 다른 접근 방식을 가지고 있다.</p><ol><li>컴포넌트를 관리하기 위해 block이라는 단위를 사용하며, 컴포넌트의 노드를 static하게 관리한다. 이를 위해 컴포넌트를 static node로 미리 생성하며, 이 과정에서 dynamic part는 Edit Map에 저장된다.</li><li>이후 update가 있을 때 Edit Map의 데이터만 비교하는 방식으로 빠른 렌더링 속도를 보장해 준다.</li></ol><p>아래는 약간 변형한 실제 소스이다.</p><pre class="CodeBlock__Pre-sc-x3gwst-0 gfDydt prism-code language-jsx" style="background-color:#282c34;color:#ffffff"><code class="code-preview"><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">1</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token constant" style="color:#5a9bcf">PLACEHOLDER_SYMBOL</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token known-class-name class-name" style="color:#FAC863">Symbol</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;PLACEHOLDER_SYMBOL&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">2</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token constant" style="color:#5a9bcf">PLACEHOLDER_PROXY</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">new</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token class-name" style="color:#FAC863">Proxy</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">3</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">get</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">_</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> key</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">4</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">return</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token constant" style="color:#5a9bcf">PLACEHOLDER_SYMBOL</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> key </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">5</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">6</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">7</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">8</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function-variable function" style="color:#79b6f2">createBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter">component</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter"> unwrap</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token arrow operator" style="color:#d7deea">=&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">9</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> velement </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">component</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token constant" style="color:#5a9bcf">PLACEHOLDER_PROXY</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 1. props 대신 PLACEHOLDER Proxy를 넘겨서 element tree를 미리 생성한다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">10</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> edits </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// Edit Map</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">11</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">12</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> root </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">stringToDOM</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">renderToTemplate</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 2. velement를 static DOM node로 치환한다. 이 과정에서 PLACEHOLDER 데이터가 쓰이는 곳은 Edit Map에 저장된다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">13</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    unwrap </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">?</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">unwrap</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">velement</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> velement</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">14</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    edits</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">15</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">16</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">17</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">return</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token arrow operator" style="color:#d7deea">=&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">new</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token class-name" style="color:#FAC863">Block</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 3. 실제 데이터 props를 전달받아 Block instance를 생성한다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">18</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    root</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">19</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    edits</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">20</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">21</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">22</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">23</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">24</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> block </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">createBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token arrow operator" style="color:#d7deea">=&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">25</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&lt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e">div</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag attr-name" style="color:#c5a5c5">id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript script-punctuation punctuation" style="color:#8dc891">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript" style="color:#fc929e">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript property-access" style="color:#fc929e">id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag attr-name" style="color:#c5a5c5">onClick</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript script-punctuation punctuation" style="color:#8dc891">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript" style="color:#fc929e">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript property-access" style="color:#fc929e">onClick</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">26</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">    Hello, </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text"> - (</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">)</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">27</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&lt;/</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e">div</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">28</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span></div></code></pre><ol><li><p>실제 데이터 대신 미리 <code>PLACEHOLDER</code> Proxy를 넘겨 <code>velement</code>를 생성한다. 생성 과정에서 props data를 사용하는 dynamic part는 <code>PLACEHOLDER</code> 값이 들어가게 되어 다른 데이터와 구분이 가능해진다. 결괏값은 아래처럼 생성될 것이다.</p><pre class="CodeBlock__Pre-sc-x3gwst-0 gfDydt prism-code language-javascript" style="background-color:#282c34;color:#ffffff"><code class="code-preview"><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">1</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> velement </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">2</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">type</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;div&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">3</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">4</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token constant" style="color:#5a9bcf">PLACEHOLDER_SYMBOL</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;id&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">5</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">onClick</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token constant" style="color:#5a9bcf">PLACEHOLDER_SYMBOL</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;onClick&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">6</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">children</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">7</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;Hello, &#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">8</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token constant" style="color:#5a9bcf">PLACEHOLDER_SYMBOL</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;name&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">9</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27; - (&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">10</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token constant" style="color:#5a9bcf">PLACEHOLDER_SYMBOL</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;cnt&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">11</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;)&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">12</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">13</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">14</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span></div></code></pre></li><li><p><code>velement</code>를 node로 치환할 때 <code>PLACEHOLDER</code>를 체크해 edits에 저장한다. edits와 root는 아래와 같을 값 형태를 가지고 있다.</p><pre class="CodeBlock__Pre-sc-x3gwst-0 gfDydt prism-code language-javascript" style="background-color:#282c34;color:#ffffff"><code class="code-preview"><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">1</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> edits </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">2</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">3</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">path</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">4</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">5</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// id attr</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">6</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">type</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">AttributeFlag</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 어떤 type인지를 나타낸다. Child, Attribute, Event, StyleAttribute, SvgAttribute, Block</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">7</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;id&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// attribute, event의 name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">8</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">hole</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;id&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// data key</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">9</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">index</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword null nil" style="color:#c5a5c5">null</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// child일 경우 자신의 index 값</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">10</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">patch</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword null nil" style="color:#c5a5c5">null</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// event listener patch 전용 필드</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">11</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">12</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// click event</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">13</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">type</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">EventFlag</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">14</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;Click&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">15</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">hole</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;onClick&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">16</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">index</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword null nil" style="color:#c5a5c5">null</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">17</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">patch</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword null nil" style="color:#c5a5c5">null</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">18</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">19</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 1번 index child에 name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">20</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">type</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">ChildFlag</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">21</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword null nil" style="color:#c5a5c5">null</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">22</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">hole</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;name&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">23</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">index</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token number" style="color:#5a9bcf">1</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">24</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">patch</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword null nil" style="color:#c5a5c5">null</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">25</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">26</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 3번 index child에 cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">27</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">type</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">ChildFlag</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">28</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword null nil" style="color:#c5a5c5">null</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">29</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">hole</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;cnt&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">30</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">index</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token number" style="color:#5a9bcf">3</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">31</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">patch</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword null nil" style="color:#c5a5c5">null</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">32</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">33</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">34</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">initial</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">35</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">36</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">37</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">38</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">root </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&lt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">div</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">Hello</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&lt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">/</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">div</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// Edit Map 데이터들은 바로 반영되지 않는다.</span></div></code></pre><p>edits에서 <code>edit</code>은 <code>PLACEHOLDER</code>들에 대한 정보가 저장되며 <code>initial</code>은 <code>PLACEHOLDER</code>가 아니지만 static template으로 치환이 안 되는 데이터(event callback, 다른 block component)를 initial에 저장해 뒀다가 mount 단계에서 추가해 준다.</p></li><li><p>실제 데이터를 전달받아 Block instance를 생성하게 되면 이제 DOM을 렌더링할 준비가 끝난다. 아래는 block을 활용한 실제 예시 코드이다.</p><pre class="CodeBlock__Pre-sc-x3gwst-0 gfDydt prism-code language-jsx" style="background-color:#282c34;color:#ffffff"><code class="code-preview"><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">1</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">let</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> cnt </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token number" style="color:#5a9bcf">0</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">2</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> block </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">createBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token arrow operator" style="color:#d7deea">=&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">3</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&lt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e">div</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag attr-name" style="color:#c5a5c5">id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript script-punctuation punctuation" style="color:#8dc891">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript" style="color:#fc929e">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript property-access" style="color:#fc929e">id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag attr-name" style="color:#c5a5c5">onClick</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript script-punctuation punctuation" style="color:#8dc891">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript" style="color:#fc929e">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript property-access" style="color:#fc929e">onClick</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">4</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">    Hello, </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text"> - (</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">)</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">5</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&lt;/</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e">div</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">6</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">7</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">8</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function-variable function" style="color:#79b6f2">onClick</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token arrow operator" style="color:#d7deea">=&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">9</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token spread operator" style="color:#d7deea">...</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// update 코드가 들어갈 부분</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">10</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">11</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">12</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// Block instance 생성</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">13</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> app </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">block</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">14</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;first&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">15</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;pyjun01&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">16</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">17</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  onClick</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">18</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">19</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">20</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">app</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">mount</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token dom variable" style="color:#d7deea">document</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">querySelector</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;#app&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// Edit Map을 순회하며 PLACEHOLDER를 props 데이터(= { id: &#x27;first&#x27;, name: &#x27;pyjun01&#x27;, cnt: 0, onClick: fn })로 채워준다.</span></div></code></pre></li></ol><ul><li><p>mount를 호출하면 생성된 root에 dynamic part가 채워지며 <code>#app</code>에 mount 된다. 아래는 mount method의 일부이다.</p><pre class="CodeBlock__Pre-sc-x3gwst-0 gfDydt prism-code language-jsx" style="background-color:#282c34;color:#ffffff"><code class="code-preview"><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">1</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// root가 &lt;div&gt;Hello, &lt;/div&gt;에서 &lt;div id=&#x27;first&#x27;&gt;Hello, pyjun01 - (0)&lt;/div&gt;로 변경된다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">2</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">3</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">mount</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter">parent</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// root를 insert할 대상 node</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">4</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> root </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">this</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">root</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">cloneNode</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token boolean" style="color:#ff8b50">true</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">5</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">6</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token spread operator" style="color:#d7deea">...</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">7</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">8</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">for</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">let</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> i </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token number" style="color:#5a9bcf">0</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> j </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">this</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">edits</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">length</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> i </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&lt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> j</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">++</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">i</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// (1) Edit Map을 순회한다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">9</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> current </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">this</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">edits</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">i</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">10</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> el </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">getCurrentElement</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">current</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">path</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> root</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">this</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">cache</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> i</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// (2) path를 통해 대상 element를 가져온다. path 값이 없으면 root가 대상 element이다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">11</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">12</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">for</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">let</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> k </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token number" style="color:#5a9bcf">0</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> l </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> current</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">length</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> k </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&lt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> l</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">++</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">k</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// (3) edit을 순회하며 값들을 추가한다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">13</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> edit </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> current</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">k</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">14</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> value </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">this</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">data</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">hole</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// PLACEHOLDER의 실제 데이터</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">15</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">16</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">if</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">type</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&amp;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">ChildFlag</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// children을 insert한다. name 값이 여기서 추가된다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">17</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">          </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token spread operator" style="color:#d7deea">...</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">18</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">          </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">insertText</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">el</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token known-class-name class-name" style="color:#FAC863">String</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">value</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">index</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// el.insertBefore(...) </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">19</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">else</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">if</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">type</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&amp;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">AttributeFlag</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// attribute를 설정한다. id attr이 여기서 설정된다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">20</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">          </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">setAttribute</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">el</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> value</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// el.setAttribute(...);</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">21</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">else</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">if</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">type</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&amp;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">EventFlag</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// event listener를 설정한다. onClick이 여기서 설정된다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">22</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">          </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> patch </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">createEventListener</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">el</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> value</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// el.addEventListener()</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">23</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">          edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">patch</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> patch</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// Edit Map에 patch 필드를 설정한다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">24</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token spread operator" style="color:#d7deea">...</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">25</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">26</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">27</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">28</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token spread operator" style="color:#d7deea">...</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">29</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">30</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">if</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">parent</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">31</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      parent</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">insertBefore</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">root</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword null nil" style="color:#c5a5c5">null</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// append</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">32</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">33</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span></div></code></pre><ul><li>(1) Edit Map을 순회한다.</li><li>(2) path(= <!-- -->[0,1,2]<!-- -->일 경우 <code>&gt; :nth-child(1) &gt; :nth-child(2) &gt; :nth-child(3)</code>)를 통해 대상 element를 가져온다.</li><li>(3) edit을 순회하며 child, attribute(style, eventListener, ...etc)를 추가해 준다.</li></ul><p>mount된 DOM을 update 하려면 patch가 필요하다. <code>onClick</code>에 patch 로직을 추가하자.</p><pre class="CodeBlock__Pre-sc-x3gwst-0 gfDydt prism-code language-jsx" style="background-color:#282c34;color:#ffffff"><code class="code-preview"><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">1</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">let</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> cnt </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token number" style="color:#5a9bcf">0</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">2</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> block </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">createBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token arrow operator" style="color:#d7deea">=&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">3</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&lt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e">div</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag attr-name" style="color:#c5a5c5">id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript script-punctuation punctuation" style="color:#8dc891">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript" style="color:#fc929e">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript property-access" style="color:#fc929e">id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag attr-name" style="color:#c5a5c5">onClick</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript script-punctuation punctuation" style="color:#8dc891">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript" style="color:#fc929e">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript property-access" style="color:#fc929e">onClick</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">4</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">    Hello, </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text"> - (</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">)</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">5</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&lt;/</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e">div</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">6</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">7</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">8</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function-variable function" style="color:#79b6f2">onClick</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token arrow operator" style="color:#d7deea">=&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff" data-change="add"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">9</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">++</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff" data-change="add"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">10</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff" data-change="add"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">11</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> newApp </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">block</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 새로운 데이터로 block을 새로 생성한다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff" data-change="add"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">12</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;clicked&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff" data-change="add"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">13</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;pyjun01&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff" data-change="add"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">14</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff" data-change="add"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">15</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      onClick</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff" data-change="add"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">16</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff" data-change="add"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">17</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff" data-change="add"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">18</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    app</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">patch</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">newApp</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 생성한 block을 patch 하면 Edit Map을 순회하며 데이터를 비교해 변경을 반영한다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">19</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">20</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">21</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> app </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">block</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">22</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;first&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">23</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;pyjun01&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">24</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">25</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  onClick</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">26</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">27</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">28</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">app</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">mount</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token dom variable" style="color:#d7deea">document</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">querySelector</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;#app&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span></div></code></pre></li><li><p>patch는 <code>newValue</code>(= 새로운 block의 data)와 <code>oldValue</code>(= 기존 block의 data)를 비교하며 변경된 부분만 <code>newValue로</code> 치환한다.</p><pre class="CodeBlock__Pre-sc-x3gwst-0 gfDydt prism-code language-jsx" style="background-color:#282c34;color:#ffffff"><code class="code-preview"><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">1</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">patch</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter">newBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">2</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> root </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">this</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">root</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">3</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">if</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">!</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">newBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">data</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">return</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> root</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">4</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">5</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> props </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">this</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">data</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">6</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">this</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">data</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> newBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">data</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">7</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">8</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">for</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">let</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> i </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token number" style="color:#5a9bcf">0</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> j </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">this</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">edits</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">length</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> i </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&lt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> j</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">++</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">i</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 1. mount와 동일하게 Edit Map을 순회한다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">9</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token spread operator" style="color:#d7deea">...</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">10</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">for</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">let</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> k </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token number" style="color:#5a9bcf">0</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> l </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> current</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">length</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> k </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&lt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> l</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">++</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">k</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">11</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> edit </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> current</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">k</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">12</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> oldValue </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">hole</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">13</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> newValue </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> newBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">data</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">h</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">14</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">15</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">if</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">newValue </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">===</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> oldValue</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">continue</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 2. 비교해서 같으면 변경하지 않는다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">16</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">17</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token spread operator" style="color:#d7deea">...</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">18</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">19</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 3.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">20</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">if</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">type</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&amp;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">EventFlag</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">21</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">patch</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">newValue</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// mount에서 설정한 patch</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">22</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">else</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">if</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">type</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&amp;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">ChildFlag</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">23</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token spread operator" style="color:#d7deea">...</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">24</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">setText</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">el</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token known-class-name class-name" style="color:#FAC863">String</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">newValue</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">index</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">25</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">else</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">if</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">type</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">&amp;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">AttributeFlag</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">26</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">setAttribute</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">el</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> edit</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> newValue</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">27</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token spread operator" style="color:#d7deea">...</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">28</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">29</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">30</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">31</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">return</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> root</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">32</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span></div></code></pre><ol><li>mount와 동일하게 Edit Map을 순회한다.</li><li>value가 같다면 변경하지 않고 넘어간다.</li><li>바뀐 부분이 있다면 newValue로 변경해 준다.</li></ol></li></ul><p>Example</p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><h2 id="compiler" class="Title__H2-sc-160b2qc-1 cZkGkT">Compiler</h2><p>Million.js는 이전에 설명한 것처럼 JSX tree의 expression 값 변경을 체크하는데 이는 expression들이 Block DOM에 넘기는 데이터(= props)가 된다는 뜻이다. 그러기 위해서 expression을 props로 넘기도록 구조를 수정해야 하고 이를 위해 compiler의 도움이 필요하다.</p><p>compiler는 block으로 감싸져 있는 컴포넌트를 분석해 두 개로 분리한다.</p><ul><li>(1) return JSX tree 그대로 return 하며 expression 값들만 props로 받는 stateless component + 해당 컴포넌트를 block HOC으로 감싼 Block(= <code>block(stateless component)</code>)</li><li>(2) Block을 return 하고 나머지는 그대로인 원본 컴포넌트</li></ul><pre class="CodeBlock__Pre-sc-x3gwst-0 gfDydt prism-code language-jsx" style="background-color:#282c34;color:#ffffff"><code class="code-preview"><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">1</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">/*** 원본 컴포넌트 ***/</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">2</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">function</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function maybe-class-name" style="color:#79b6f2">App</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">3</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> setCnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">useState</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token number" style="color:#5a9bcf">0</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">4</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">5</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">return</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">6</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&lt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e">div</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag attr-name" style="color:#c5a5c5">id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript script-punctuation punctuation" style="color:#8dc891">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript" style="color:#fc929e">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript property-access" style="color:#fc929e">id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag attr-name" style="color:#c5a5c5">onClick</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript script-punctuation punctuation" style="color:#8dc891">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript arrow operator" style="color:#d7deea">=&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript function" style="color:#79b6f2">setCnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript" style="color:#fc929e">cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript operator" style="color:#d7deea">+</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript number" style="color:#5a9bcf">1</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">7</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">      Hello, </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text"> - (</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">)</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">8</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&lt;/</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e">div</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">9</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">10</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">11</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">AppBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">block</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">App</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">12</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">13</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">/*** 컴파일된 컴포넌트 ***/</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">14</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">function</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function maybe-class-name" style="color:#79b6f2">BlockUI</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">15</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  _$2</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// {variable} 형태가 아니라면 key를 자동으로 생성해 준다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">16</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  _$3</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">17</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  _$4</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">18</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  cnt</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">19</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">20</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">return</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">21</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&lt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e">div</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag attr-name" style="color:#c5a5c5">id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript script-punctuation punctuation" style="color:#8dc891">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript" style="color:#fc929e">_$2</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag attr-name" style="color:#c5a5c5">onClick</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript script-punctuation punctuation" style="color:#8dc891">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript" style="color:#fc929e">_$3</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">22</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">      Hello, </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">_$4</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text"> - (</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">)</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">23</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain-text">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&lt;/</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e">div</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">24</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">25</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">26</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">BlockComponent</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">block</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">BlockUI</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// (1)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">27</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">28</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">function</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function maybe-class-name" style="color:#79b6f2">App</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// (2)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">29</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> setCnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">useState</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token number" style="color:#5a9bcf">0</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">30</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">31</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">return</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function maybe-class-name" style="color:#79b6f2">BlockComponent</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">32</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">_$2</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">id</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">33</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function-variable function" style="color:#79b6f2">_$3</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token arrow operator" style="color:#d7deea">=&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">setCnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">+</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token number" style="color:#5a9bcf">1</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">34</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">_$4</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">name</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">35</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    cnt</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">36</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">37</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">38</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">AppBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token maybe-class-name">App</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span></div></code></pre><ul><li>props가 변수가 아닐 때는 auto-increment로 key를 생성한다.</li><li><code>BlockComponent</code>에 사용된 <code>block</code> 함수는 React HOC 함수이다.</li></ul><p>컴포넌트가 분리됐다면 이제 HOC 함수 내에서 Block Virtual DOM과 React component를 적절히 조화시키면 된다.</p><h2 id="react-hoc" class="Title__H2-sc-160b2qc-1 cZkGkT">React HOC</h2><p>React HOC는 다음과 같은 작업을 진행한다.</p><ol><li>React reconciliation 대신 Block Virtual DOM을 사용해야 하므로 컴포넌트 내부에서는 JSX tree를 return 하는 것이 아니라 Block instance로 생성한다. (block의 mount 대상이 될 적절한 temp tag는 react를 통한 렌더링이 필요하다)</li><li><code>useEffect</code>를 통해 컴포넌트 mount시 block을 temp tag에 mount 시킨다.</li><li>이후 update가 발생하면 patch를 호출해 변경된 데이터를 DOM에 반영한다.</li></ol><pre class="CodeBlock__Pre-sc-x3gwst-0 gfDydt prism-code language-jsx" style="background-color:#282c34;color:#ffffff"><code class="code-preview"><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">1</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> css </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;million-block, million-fragment { display: contents }&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 1. temp tag용 style 설정</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">2</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> style </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token dom variable" style="color:#d7deea">document</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">createElement</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;style&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">3</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token known-class-name class-name" style="color:#FAC863">Object</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">assign</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">style</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">4</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">type</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token string" style="color:#8dc891">&#x27;text/css&#x27;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">5</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token literal-property property" style="color:#5a9bcf">innerHTML</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">:</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> css</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">6</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">7</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token dom variable" style="color:#d7deea">document</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">head</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">appendChild</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">style</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">8</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">9</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword module" style="color:#c5a5c5">export</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function-variable function" style="color:#79b6f2">block</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">10</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter">fn</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">11</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter">  options </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">12</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token arrow operator" style="color:#d7deea">=&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">13</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> block </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">createBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">fn</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> unwrap</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">14</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">15</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">return</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">function</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function maybe-class-name" style="color:#79b6f2">MillionBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">16</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> ref </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">useRef</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword null nil" style="color:#c5a5c5">null</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// tmep tag DOM ref</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">17</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> patch </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">useRef</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword null nil" style="color:#c5a5c5">null</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// patch function</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">18</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">19</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    patch</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">current</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">?.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 3. patch 호출</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">20</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">21</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">useEffect</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token arrow operator" style="color:#d7deea">=&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">22</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword" style="color:#c5a5c5">const</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> currentBlock </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">block</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">key</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">23</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">24</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">if</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">ref</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">current</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">25</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        currentBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">mount</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">ref</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token property-access">current</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword null nil" style="color:#c5a5c5">null</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 2. block을 mount 한다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">26</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">27</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        patch</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method-variable function-variable method function property-access" style="color:#79b6f2">current</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token operator" style="color:#d7deea">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token parameter">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token arrow operator" style="color:#d7deea">=&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// patch ref 값을 설정한다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">28</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">          currentBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">patch</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token function" style="color:#79b6f2">block</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">props</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">29</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">30</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">31</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">32</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">return</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token arrow operator" style="color:#d7deea">=&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">33</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">        currentBlock</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token method function property-access" style="color:#79b6f2">remove</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">(</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// 4. remove</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">34</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">      </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">35</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">,</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">[</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">]</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">)</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">36</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain" style="display:inline-block">
</span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">37</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">    </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token keyword control-flow" style="color:#c5a5c5">return</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">&lt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e">million-block</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag attr-name" style="color:#c5a5c5">ref</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript script-punctuation punctuation" style="color:#8dc891">=</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">{</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript" style="color:#fc929e">ref</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag script language-javascript punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag" style="color:#fc929e"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token tag punctuation" style="color:#8dc891">/&gt;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"> </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token comment" style="color:#999999">// million-block이라는 tag를 container로 사용한다.</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">38</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain">  </span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span></div><div class="CodeBlock__Line-sc-x3gwst-1 fLXtFW token-line" style="color:#ffffff"><span class="CodeBlock__LineNo-sc-x3gwst-2 fZWfAp">39</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token plain"></span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">}</span><span class="CodeBlock__LineContent-sc-x3gwst-3 BcgxB token punctuation" style="color:#8dc891">;</span></div></code></pre><ol><li><code>display: contents;</code> style이 생소할 수 있는데 대상 node를 마치 DOM에 없는 것처럼 처리해 준다. (= contents의 자식이 contents를 무시하고 조부모를 부모로 인식한다)</li><li>컴포넌트 mount 이후 <code>useEffect</code>가 호출되면 block.mount를 호출해 렌더링한다.</li><li>컴포넌트 최초 호출에서는 patch ref가 initial value(= null)이므로 호출이 안 되고 이후 컴포넌트가 update 될 때 <code>useEffect</code> 내부에서 할당한 patch 함수가 호출되어 업데이트된다.</li><li>컴포넌트가 unmount 되어 destructor가 호출되면 block.remove를 호출해 DOM node를 제거한다.</li></ol><h1 id="결론" class="Title__H1-sc-160b2qc-0 eCBhXZ">결론</h1><p>Million.js의 핵심적인 코드 부분을 살펴보았다. 코드를 살펴보면서 느꼈을 수 있지만 당연히 모든 곳에 적용한다고 성능 향상이 보장되는 것은 아니며 제약사항이 여럿 존재해 할 수도 없다.</p><ul><li>component composition 불가</li><li>component early return 불가</li><li>expression에서 JSX(= ReactElement) 사용 불가</li><li>spread attribute 사용 불가</li></ul><p>(글 업로드 날 기준으로 최신 버전에서는 위 제약사항 중 몇몇이 해결됐다)</p><p>아직 분명한 한계가 존재하지만, 특정 케이스(static 요소)에서는 높은 활용도를 가지고 있고 lib의 개선도 계속되고 있으니 많은 변경이 필요한 프로젝트에서 채택을 고려해볼만한 가치가 있다.</p><h1 id="부록" class="Title__H1-sc-160b2qc-0 eCBhXZ">부록</h1><ul><li><a href="https://twitter.com/aidenybai/status/1647005716350406656" target="_blank" class="MDX__A-sc-1k59ymc-0 eySHoc">Aiden Bai의 Million.js React 비교 트윗</a></li><li><a href="https://github.com/ged-odoo/blockdom" target="_blank" class="MDX__A-sc-1k59ymc-0 eySHoc">blockdom</a></li><li><a href="https://million.dev/blog/virtual-dom" target="_blank" class="MDX__A-sc-1k59ymc-0 eySHoc">Virtual DOM: Back in Block</a></li></ul></div></div><img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fpyjun01.github.io/v/million-js&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=hits&amp;edge_flat=false" style="opacity:0"/></div></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/v/million-js/";window.___webpackCompilationHash="de3b077ac3fc6e4db744";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-a1c59c46e6201fdccc4d.js"],"app":["/app-1616f93ccb81986aa35a.js"]};/*]]>*/</script><script src="/polyfill-a1c59c46e6201fdccc4d.js" nomodule=""></script><script src="/app-1616f93ccb81986aa35a.js" async=""></script><script src="/framework-7c52479153645a36d9c8.js" async=""></script><script src="/webpack-runtime-85e9ac98eef5652dac2a.js" async=""></script></body></html>